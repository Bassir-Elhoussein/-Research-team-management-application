jQuery(document).ready(function(o){o("#molongui-help-ticket-form").submit(function(e){e.preventDefault();var t=0,n=o("#molongui-submit-ticket"),r=n.html();if(o("#molongui-form-error").hide(),o("#molongui-help-ticket-form input, #molongui-help-ticket-form select, #molongui-help-ticket-form textarea").each(function(){o(this).removeClass("has-error"),o(this).val()||(o(this).addClass("has-error"),++t)}),o("#molongui-accept-tos").is(":checked")?o("#molongui-accept-tos").removeClass("has-error"):(o("#molongui-accept-tos").addClass("has-error"),++t),t>0)return o("#molongui-form-error").show(),!1;o.ajax({url:ajaxurl,type:"POST",data:{action:"molongui_send_mail",type:"ticket",form:o(this).serialize(),domain:document.domain,security:o("#molongui-support-nonce").val()},beforeSend:function(){n.empty().html('<div class="m-typing-loader"></div>')},success:function(e){"sent"===e?(o(this).trigger("reset"),n.empty().html(r),o("#molongui-help-ticket-form").trigger("reset"),molongui_swal({icon:"success",title:"Sent!",text:"Your ticket has been submitted. We reply to every ticket, please check your Spam folder if you haven't heard from us."})):(console.log("Molongui System Info Error: "+e),n.empty().html(r),molongui_swal({icon:"error",title:"Ooops... error!",text:"Something went wrong... please, try again later.\n If the problem persists, contact Molongui using the chat."}))},error:function(o,e,t){console.log("Molongui System Info Error: "+o.responseText),n.empty().html(r),molongui_swal("Ooops!","Something went wrong and the ticket could not be sent.\n If the problem persists, please contact Molongui by chat.","error")}})}),o("#send-molongui-support-report").click(function(e){e.preventDefault();var t=o(this),n=o(this).html();o(this).html('<div class="m-typing-loader"></div>'),molongui_swal({title:"Send report?",text:"Submit only if instructed so by the Molongui Support Team.",icon:"info",closeOnEsc:!0,buttons:{cancel:{text:"No, cancel!",value:null,visible:!0,className:"",closeModal:!0},confirm:{text:"Yes, send it!",value:!0,visible:!0,className:"",closeModal:!1}}}).then(e=>{e?o.ajax({url:ajaxurl,type:"POST",data:{action:"molongui_send_mail",type:"report",domain:document.domain,security:o("#molongui-support-nonce").val()},success:function(o){"sent"===o?(t.html(n),molongui_swal({title:"Sent!",text:"Your report has been sent successfully.",icon:"success"})):(console.log("Molongui System Info Error: "+o),molongui_swal({title:"Ooops... error!",text:"Something went wrong... please, try again later.\n If the problem persists, contact Molongui.",icon:"error"}),t.html(n))},error:function(o,e,r){console.log("Molongui System Info Error: "+o.responseText),molongui_swal("Ooops!","Something went wrong and the report could not be sent.\n If the problem persists, please contact Molongui.","error"),t.html(n)}}):t.html(n)})})});